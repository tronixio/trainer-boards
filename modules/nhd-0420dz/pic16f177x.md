# TODO - NHD-0420DZ - ST7066U.

## 0.Contents.

- [1.PIC16F1778 - 8-Bit no Busy Flag.](#1pic16f1778---8-bit-no-busy-flag)
- [2.PIC16F1778 - 8-Bit with Busy Flag.](#2pic16f1778---8-bit-with-busy-flag)
- [3.PIC16F1778 - 4-Bit Low Nibble no Busy Flag.](#3pic16f1778---4-bit-low-nibble-no-busy-flag)
- [4.PIC16F1778 - 4-Bit Low Nibble with Busy Flag.](#4pic16f1778---4-bit-low-nibble-with-busy-flag)
- [5.PIC16F1778 - 4-Bit High Nibble no Busy Flag.](#5pic16f1778---4-bit-high-nibble-no-busy-flag)
- [6.PIC16F1778 - 4-Bit High Nibble with Busy Flag.](#6pic16f1778---4-bit-high-nibble-with-busy-flag)

## 1.PIC16F1778 - 8-Bit no Busy Flag.

```c
// Configuration Registers.
#pragma config FOSC = INTOSC, WDTE = OFF, PWRTE = OFF, MCLRE = ON, CP = OFF
#pragma config BOREN = OFF, CLKOUTEN = OFF, IESO = OFF, FCMEN = OFF
#pragma config WRT = OFF, PPS1WAY = ON, ZCD = OFF, PLLEN = OFF
#pragma config STVREN = ON, BORV = LO, LPBOR = OFF, LVP = ON

#include <xc.h>
#include <stdint.h>
#define _XTAL_FREQ 8000000
// PIC16F1773/6/8 - Compile with XC8(v2.31).
// PIC16F1773/6/8 - @8MHz Internal Oscillator.
// v0.1 - 11/2020.

// LCD 4x20 - NHD-0420DZ (ST7066U - HD44780 Compatible) - 8-Bit no Busy Flag.

// PIC8-Bit Trainer.
// SDA - Open.
// SCL - Open.
// VCAP - Open.
// VEE - Close.
// BCKL - Close.

// Pinout.
// MODULE.01 -> GND.
// MODULE.02 -> VDD.
// MODULE.03 -> NC.
// MODULE.04 -> MCU.RA0.
// MODULE.05 -> GND.
// MODULE.06 -> MCU.RA2.
// MODULE.07 -> MCU.RB0.
// MODULE.08 -> MCU.RB1.
// MODULE.09 -> MCU.RB2.
// MODULE.10 -> MCU.RB3.
// MODULE.11 -> MCU.RB4.
// MODULE.12 -> MCU.RB5.
// MODULE.13 -> MCU.RB6.
// MODULE.14 -> MCU.RB7.
// MODULE.15 -> NC.
// MODULE.16 -> GND.

// Definitions.
// ST7066U Commands Port & Data Port.
#define ST7066U_DATA                                    LATB
#define ST7066U_RS                                      do{LATAbits.LATA0 = 0b1;} while(0)
#define ST7066U_nRS                                     do{LATAbits.LATA0 = 0b0;} while(0)
#define ST7066U_E                                       do{LATAbits.LATA2 = 0b1;} while(0)
#define ST7066U_nE                                      do{LATAbits.LATA2 = 0b0;} while(0)
// ST7066U Instructions.
#define ST7066U_CLEAR_DISPLAY                           0x01
#define ST7066U_RETURN_HOME                             0x02
#define ST7066U_ENTRY_MODE_DDRAM_DECREMENT_NOSHIFT      0x04
#define ST7066U_ENTRY_MODE_DDRAM_DECREMENT_SHIFT        0x05
#define ST7066U_ENTRY_MODE_DDRAM_INCREMENT_NOSHIFT      0x06
#define ST7066U_ENTRY_MODE_DDRAM_INCREMENT_SHIFT        0x07
#define ST7066U_DISPLAY_OFF                             0x08
#define ST7066U_DISPLAY_ON_CURSOR_OFF                   0x0C
#define ST7066U_DISPLAY_ON_CURSOR_ON_NOBLINK            0x0E
#define ST7066U_DISPLAY_ON_CURSOR_ON_BLINK              0x0F
#define ST7066U_DISPLAY_CURSOR_SHIFT_LEFT               0x10
#define ST7066U_DISPLAY_CURSOR_SHIFT_RIGHT              0x14
#define ST7066U_DISPLAY_SCREEN_SHIFT_LEFT               0x18
#define ST7066U_DISPLAY_SCREEN_SHIFT_RIGHT              0x1C
#define ST7066U_FUNCTION_SET_4_BIT_ONE_LINE_FONT5x8     0x20
#define ST7066U_FUNCTION_SET_4_BIT_ONE_LINE_FONT5x11    0x24
#define ST7066U_FUNCTION_SET_4_BIT_TWO_LINE_FONT5x8     0x28
#define ST7066U_FUNCTION_SET_8_BIT_ONE_LINE_FONT5x8     0x30
#define ST7066U_FUNCTION_SET_8_BIT_ONE_LINE_FONT5x11    0x34
#define ST7066U_FUNCTION_SET_8_BIT_TWO_LINE_FONT5x8     0x38
#define ST7066U_SET_CGRAM_ADDRESS                       0x40
#define ST7066U_SET_DDRAM_ADDRESS_FIRST_LINE            0x80
#define ST7066U_SET_DDRAM_ADDRESS_SECOND_LINE           0xC0
#define ST7066U_SET_DDRAM_ADDRESS_THIRD_LINE            0x94
#define ST7066U_SET_DDRAM_ADDRESS_FOURTH_LINE           0xD4
// ASCII Characters.
#define ASCII_SPACE                                     0x20
// NHD-0420DZ Configuration.
#define NHD0420DZ_CONFIGURATION_LINE                    4
#define NHD0420DZ_CONFIGURATION_CHARACTER               20
#define NHD0420DZ_CONFIGURATION_FIRST_LINE              ST7066U_SET_DDRAM_ADDRESS_FIRST_LINE
#define NHD0420DZ_CONFIGURATION_SECOND_LINE             ST7066U_SET_DDRAM_ADDRESS_SECOND_LINE
#define NHD0420DZ_CONFIGURATION_THIRD_LINE              ST7066U_SET_DDRAM_ADDRESS_THIRD_LINE
#define NHD0420DZ_CONFIGURATION_FOURTH_LINE             ST7066U_SET_DDRAM_ADDRESS_FOURTH_LINE

// Functions Prototype.
void lcd_clearDisplay(void);
void lcd_clearLine(uint8_t u8Line);
void lcd_initialize(void);
void lcd_writeData(uint8_t u8Data);
void lcd_writeInstruction(uint8_t u8Data);
void lcd_writeString(const uint8_t * u8Data);
void lcd_writeStringSetCursor(const uint8_t * u8Data, uint8_t u8Cursor);

// Strings & Custom patterns.
const uint8_t string0[] = "Tronix I/O";
const uint8_t string1[] = "www.tronix.io";
const uint8_t string2[] = "Custom patterns";
const uint8_t separator[] = " - ";
const uint8_t custom_patterns[5][8] = {
    {0x0e, 0x1b, 0x11, 0x11, 0x11, 0x11, 0x11, 0x1f},
    {0x0e, 0x1b, 0x11, 0x11, 0x11, 0x1f, 0x1f, 0x1f},
    {0x0e, 0x1b, 0x11, 0x11, 0x1f, 0x1f, 0x1f, 0x1f},
    {0x0e, 0x1b, 0x11, 0x1f, 0x1f, 0x1f, 0x1f, 0x1f},
    {0x0e, 0x1f, 0x1f, 0x1f, 0x1f, 0x1f, 0x1f, 0x1f}
};

// Main.
void main(void)
{
    // MCU Initialization.
    // Internal Oscillator Settings.
    OSCCON = 0b01110000;
    // Ports Settings.
    // PORT Data Register.
    PORTA = 0b00000000;
    PORTB = 0b00000000;
    PORTC = 0b00000000;
    // TRIS Data Direction.
    TRISA = 0b00000000;
    TRISB = 0b00000000;
    TRISC = 0b00000000;
    // WPU Disable.
    OPTION_REGbits.nWPUEN = 0b1;
    // LATCH Outputs.
    LATA = 0b00000000;
    LATB = 0b00000000;
    LATC = 0b00000000;
    // ANSEL Analog.
    ANSELA = 0b00000000;
    ANSELB = 0b00000000;
    ANSELC = 0b00000000;
    // WPU Weak Pull-up.
    WPUA = 0b00000000;
    WPUB = 0b00000000;
    WPUC = 0b00000000;
    // ODCON Open-drain.
    ODCONA = 0b00000000;
    ODCONB = 0b00000000;
    ODCONC = 0b00000000;
    // SRLCON Slew Rate.
    SLRCONA = 0b11111111;
    SLRCONB = 0b11111111;
    SLRCONC = 0b11111111;
    // INLVL Input Level.
    INLVLA  = 0b00000000;
    INLVLB  = 0b00000000;
    INLVLC  = 0b00000000;
    // HIDRVB High Drive.
    HIDRVB  = 0b00000000;

    // ST7066U Initialization.
    lcd_initialize();

    // Write 5x8 Dots Custom Patterns in ST7066U CGRAM.
    lcd_writeInstruction(ST7066U_SET_CGRAM_ADDRESS);
    uint8_t line = 0;
    uint8_t pattern = 0;
    for(pattern=0; pattern<5; pattern++){
        for(line=0; line<8; line++){
            lcd_writeData(custom_patterns[pattern][line]);
        }
    }

    // Display String.
    lcd_writeStringSetCursor(string0, NHD0420DZ_CONFIGURATION_FIRST_LINE + 0x05);
    lcd_writeStringSetCursor(string1, NHD0420DZ_CONFIGURATION_SECOND_LINE + 0x03);
    lcd_writeStringSetCursor(string2, NHD0420DZ_CONFIGURATION_THIRD_LINE + 0x02);

    // Display Custom Patterns from ST7066U CGRAM.
    lcd_writeInstruction(NHD0420DZ_CONFIGURATION_FOURTH_LINE + 0x05);
    lcd_writeData(0x00);
    lcd_writeData(0x01);
    lcd_writeData(0x02);
    lcd_writeData(0x03);
    lcd_writeData(0x04);
    lcd_writeString(separator);

    while(1){
        for(pattern=0; pattern<5; pattern++){
            lcd_writeInstruction(NHD0420DZ_CONFIGURATION_FOURTH_LINE + 0x0d);
            lcd_writeData(pattern);
            __delay_ms(500);
        }
    }
}

// Functions.
void lcd_clearDisplay(void)
{
    lcd_writeInstruction(ST7066U_CLEAR_DISPLAY);
    __delay_ms(2);
}

void lcd_clearLine(uint8_t u8Line)
{
    uint8_t u8Characters = NHD0420DZ_CONFIGURATION_CHARACTER;
    
    lcd_writeInstruction(u8Line);
    while(u8Characters--){
        lcd_writeData(ASCII_SPACE);
    }
}

void lcd_initialize(void)
{
    __delay_ms(50);
    lcd_writeInstruction(ST7066U_FUNCTION_SET_8_BIT_TWO_LINE_FONT5x8);
    lcd_writeInstruction(ST7066U_FUNCTION_SET_8_BIT_TWO_LINE_FONT5x8);
    lcd_writeInstruction(ST7066U_DISPLAY_ON_CURSOR_OFF);
    lcd_writeInstruction(ST7066U_ENTRY_MODE_DDRAM_INCREMENT_NOSHIFT);
    lcd_writeInstruction(ST7066U_CLEAR_DISPLAY);
    __delay_ms(2);
}

void lcd_writeData(uint8_t u8Data)
{
    ST7066U_RS;
    ST7066U_E;
    ST7066U_DATA = u8Data;
    ST7066U_nE;
    __delay_us(40);
}

void lcd_writeInstruction(uint8_t u8Data)
{
    ST7066U_nRS;
    ST7066U_E;
    ST7066U_DATA = u8Data;
    ST7066U_nE;
    __delay_us(40);
}

void lcd_writeString(const uint8_t * u8Data)
{
    while(*u8Data != '\0')
        lcd_writeData(*u8Data++);
}

void lcd_writeStringSetCursor(const uint8_t * u8Data, uint8_t u8Cursor)
{
    lcd_writeInstruction(u8Cursor);
    while(*u8Data != '\0')
        lcd_writeData(*u8Data++);
}
```

## 2.PIC16F1778 - 8-Bit with Busy Flag.

```c
// Configuration Registers.
#pragma config FOSC = INTOSC, WDTE = OFF, PWRTE = OFF, MCLRE = ON, CP = OFF
#pragma config BOREN = OFF, CLKOUTEN = OFF, IESO = OFF, FCMEN = OFF
#pragma config WRT = OFF, PPS1WAY = ON, ZCD = OFF, PLLEN = OFF
#pragma config STVREN = ON, BORV = LO, LPBOR = OFF, LVP = ON

#include <xc.h>
#include <stdint.h>
#define _XTAL_FREQ 8000000
// PIC16F1773/6/8 - Compile with XC8(v2.31).
// PIC16F1773/6/8 - @8MHz Internal Oscillator.
// v0.1 - 11/2020.

// LCD 4x20 - NHD-0420DZ (ST7066U - HD44780 Compatible) - 8-Bit with Busy Flag.

// PIC8-Bit Trainer.
// SDA - Open.
// SCL - Open.
// VCAP - Open.
// VEE - Close.
// BCKL - Close.

// Pinout.
// MODULE.01 -> GND.
// MODULE.02 -> VDD.
// MODULE.03 -> NC.
// MODULE.04 -> MCU.RA0.
// MODULE.05 -> MCU.RA1.
// MODULE.06 -> MCU.RA2.
// MODULE.07 -> MCU.RB0.
// MODULE.08 -> MCU.RB1.
// MODULE.09 -> MCU.RB2.
// MODULE.10 -> MCU.RB3.
// MODULE.11 -> MCU.RB4.
// MODULE.12 -> MCU.RB5.
// MODULE.13 -> MCU.RB6.
// MODULE.14 -> MCU.RB7.
// MODULE.15 -> NC.
// MODULE.16 -> GND.

// Definitions.
// ST7066U Commands Port & Data Port.
#define ST7066U_DATA                                    LATB
#define ST7066U_RS                                      do{LATAbits.LATA0 = 0b1;} while(0)
#define ST7066U_nRS                                     do{LATAbits.LATA0 = 0b0;} while(0)
#define ST7066U_RW                                      do{LATAbits.LATA1 = 0b1;} while(0)
#define ST7066U_nRW                                     do{LATAbits.LATA1 = 0b0;} while(0)
#define ST7066U_E                                       do{LATAbits.LATA2 = 0b1;} while(0)
#define ST7066U_nE                                      do{LATAbits.LATA2 = 0b0;} while(0)
#define ST7066U_BF                                      PORTBbits.RB7
#define ST7066U_BF_INPUT                                do{TRISBbits.TRISB7 = 0b1;} while(0)
#define ST7066U_BF_OUTPUT                               do{TRISBbits.TRISB7 = 0b0;} while(0)
// ST7066U Instructions.
#define ST7066U_CLEAR_DISPLAY                           0x01
#define ST7066U_RETURN_HOME                             0x02
#define ST7066U_ENTRY_MODE_DDRAM_DECREMENT_NOSHIFT      0x04
#define ST7066U_ENTRY_MODE_DDRAM_DECREMENT_SHIFT        0x05
#define ST7066U_ENTRY_MODE_DDRAM_INCREMENT_NOSHIFT      0x06
#define ST7066U_ENTRY_MODE_DDRAM_INCREMENT_SHIFT        0x07
#define ST7066U_DISPLAY_OFF                             0x08
#define ST7066U_DISPLAY_ON_CURSOR_OFF                   0x0C
#define ST7066U_DISPLAY_ON_CURSOR_ON_NOBLINK            0x0E
#define ST7066U_DISPLAY_ON_CURSOR_ON_BLINK              0x0F
#define ST7066U_DISPLAY_CURSOR_SHIFT_LEFT               0x10
#define ST7066U_DISPLAY_CURSOR_SHIFT_RIGHT              0x14
#define ST7066U_DISPLAY_SCREEN_SHIFT_LEFT               0x18
#define ST7066U_DISPLAY_SCREEN_SHIFT_RIGHT              0x1C
#define ST7066U_FUNCTION_SET_4_BIT_ONE_LINE_FONT5x8     0x20
#define ST7066U_FUNCTION_SET_4_BIT_ONE_LINE_FONT5x11    0x24
#define ST7066U_FUNCTION_SET_4_BIT_TWO_LINE_FONT5x8     0x28
#define ST7066U_FUNCTION_SET_8_BIT_ONE_LINE_FONT5x8     0x30
#define ST7066U_FUNCTION_SET_8_BIT_ONE_LINE_FONT5x11    0x34
#define ST7066U_FUNCTION_SET_8_BIT_TWO_LINE_FONT5x8     0x38
#define ST7066U_SET_CGRAM_ADDRESS                       0x40
#define ST7066U_SET_DDRAM_ADDRESS_FIRST_LINE            0x80
#define ST7066U_SET_DDRAM_ADDRESS_SECOND_LINE           0xC0
#define ST7066U_SET_DDRAM_ADDRESS_THIRD_LINE            0x94
#define ST7066U_SET_DDRAM_ADDRESS_FOURTH_LINE           0xD4
// ASCII Characters.
#define ASCII_SPACE                                     0x20
// NHD-0420DZ Configuration.
#define NHD0420DZ_CONFIGURATION_LINE                    4
#define NHD0420DZ_CONFIGURATION_CHARACTER               20
#define NHD0420DZ_CONFIGURATION_FIRST_LINE              ST7066U_SET_DDRAM_ADDRESS_FIRST_LINE
#define NHD0420DZ_CONFIGURATION_SECOND_LINE             ST7066U_SET_DDRAM_ADDRESS_SECOND_LINE
#define NHD0420DZ_CONFIGURATION_THIRD_LINE              ST7066U_SET_DDRAM_ADDRESS_THIRD_LINE
#define NHD0420DZ_CONFIGURATION_FOURTH_LINE             ST7066U_SET_DDRAM_ADDRESS_FOURTH_LINE

// Functions Prototype.
void lcd_clearDisplay(void);
void lcd_clearLine(uint8_t u8Line);
void lcd_initialize(void);
void lcd_readBusyFlag(void);
void lcd_writeData(uint8_t u8Data);
void lcd_writeInstruction(uint8_t u8Data);
void lcd_writeInstructionNOBF(uint8_t u8Data);
void lcd_writeString(const uint8_t * u8Data);
void lcd_writeStringSetCursor(const uint8_t * u8Data, uint8_t u8Cursor);

// Strings & Custom patterns.
const uint8_t string0[] = "Tronix I/O";
const uint8_t string1[] = "www.tronix.io";
const uint8_t string2[] = "Custom patterns";
const uint8_t separator[] = " - ";
const uint8_t custom_patterns[5][8] = {
    {0x0e, 0x1b, 0x11, 0x11, 0x11, 0x11, 0x11, 0x1f},
    {0x0e, 0x1b, 0x11, 0x11, 0x11, 0x1f, 0x1f, 0x1f},
    {0x0e, 0x1b, 0x11, 0x11, 0x1f, 0x1f, 0x1f, 0x1f},
    {0x0e, 0x1b, 0x11, 0x1f, 0x1f, 0x1f, 0x1f, 0x1f},
    {0x0e, 0x1f, 0x1f, 0x1f, 0x1f, 0x1f, 0x1f, 0x1f}
};

// Main.
void main(void)
{
    // MCU Initialization.
    // Internal Oscillator Settings.
    OSCCON = 0b01110000;
    // Ports Settings.
    // PORT Data Register.
    PORTA = 0b00000000;
    PORTB = 0b00000000;
    PORTC = 0b00000000;
    // TRIS Data Direction.
    TRISA = 0b00000000;
    TRISB = 0b00000000;
    TRISC = 0b00000000;
    // WPU Disable.
    OPTION_REGbits.nWPUEN = 0b1;
    // LATCH Outputs.
    LATA = 0b00000000;
    LATB = 0b00000000;
    LATC = 0b00000000;
    // ANSEL Analog.
    ANSELA = 0b00000000;
    ANSELB = 0b00000000;
    ANSELC = 0b00000000;
    // WPU Weak Pull-up.
    WPUA = 0b00000000;
    WPUB = 0b00000000;
    WPUC = 0b00000000;
    // ODCON Open-drain.
    ODCONA = 0b00000000;
    ODCONB = 0b00000000;
    ODCONC = 0b00000000;
    // SRLCON Slew Rate.
    SLRCONA = 0b11111111;
    SLRCONB = 0b11111111;
    SLRCONC = 0b11111111;
    // INLVL Input Level.
    INLVLA  = 0b00000000;
    INLVLB  = 0b00000000;
    INLVLC  = 0b00000000;
    // HIDRVB High Drive.
    HIDRVB  = 0b00000000;

    // ST7066U Initialization.
    lcd_initialize();

    // Write 5x8 Dots Custom Patterns in ST7066U CGRAM.
    lcd_writeInstruction(ST7066U_SET_CGRAM_ADDRESS);
    uint8_t line = 0;
    uint8_t pattern = 0;
    for(pattern=0; pattern<5; pattern++){
        for(line=0; line<8; line++){
            lcd_writeData(custom_patterns[pattern][line]);
        }
    }

    // Display String.
    lcd_writeStringSetCursor(string0, NHD0420DZ_CONFIGURATION_FIRST_LINE + 0x05);
    lcd_writeStringSetCursor(string1, NHD0420DZ_CONFIGURATION_SECOND_LINE + 0x03);
    lcd_writeStringSetCursor(string2, NHD0420DZ_CONFIGURATION_THIRD_LINE + 0x02);

    // Display Custom Patterns from ST7066U CGRAM.
    lcd_writeInstruction(NHD0420DZ_CONFIGURATION_FOURTH_LINE + 0x05);
    lcd_writeData(0x00);
    lcd_writeData(0x01);
    lcd_writeData(0x02);
    lcd_writeData(0x03);
    lcd_writeData(0x04);
    lcd_writeString(separator);

    while(1){
        for(pattern=0; pattern<5; pattern++){
            lcd_writeInstruction(NHD0420DZ_CONFIGURATION_FOURTH_LINE + 0x0d);
            lcd_writeData(pattern);
            __delay_ms(500);
        }
    }
}

// Functions.
void lcd_clearDisplay(void)
{
    lcd_writeInstruction(ST7066U_CLEAR_DISPLAY);
    __delay_ms(2);
}

void lcd_clearLine(uint8_t u8Line)
{
    uint8_t u8Characters = NHD0420DZ_CONFIGURATION_CHARACTER;
    
    lcd_writeInstruction(u8Line);
    while(u8Characters--){
        lcd_writeData(ASCII_SPACE);
    }
}

void lcd_initialize(void)
{
    __delay_ms(50);
    lcd_writeInstructionNOBF(ST7066U_FUNCTION_SET_8_BIT_TWO_LINE_FONT5x8);
    lcd_writeInstructionNOBF(ST7066U_FUNCTION_SET_8_BIT_TWO_LINE_FONT5x8);
    lcd_writeInstruction(ST7066U_DISPLAY_ON_CURSOR_OFF);
    lcd_writeInstruction(ST7066U_ENTRY_MODE_DDRAM_INCREMENT_NOSHIFT);
    lcd_writeInstruction(ST7066U_CLEAR_DISPLAY);
    __delay_ms(2);
}

void lcd_readBusyFlag(void)
{
    ST7066U_nRS;
    ST7066U_RW;
    ST7066U_BF_INPUT;
    do{
        ST7066U_nE;
        ST7066U_E;
    }while(ST7066U_BF);
    ST7066U_BF_OUTPUT;
    ST7066U_nRW;
}

void lcd_writeData(uint8_t u8Data)
{
    ST7066U_RS;
    ST7066U_E;
    ST7066U_DATA = u8Data;
    ST7066U_nE;
    lcd_readBusyFlag();
}

void lcd_writeInstruction(uint8_t u8Data)
{
    ST7066U_nRS;
    ST7066U_E;
    ST7066U_DATA = u8Data;
    ST7066U_nE;
    lcd_readBusyFlag();
}

void lcd_writeInstructionNOBF(uint8_t u8Data)
{
    ST7066U_nRS;
    ST7066U_E;
    ST7066U_DATA = u8Data;
    ST7066U_nE;
    __delay_us(40);
}

void lcd_writeString(const uint8_t * u8Data)
{
    while(*u8Data != '\0')
        lcd_writeData(*u8Data++);
}

void lcd_writeStringSetCursor(const uint8_t * u8Data, uint8_t u8Cursor)
{
    lcd_writeInstruction(u8Cursor);
    while(*u8Data != '\0')
        lcd_writeData(*u8Data++);
}
```

## 3.PIC16F1778 - 4-Bit Low Nibble no Busy Flag.

```c
// Configuration Registers.
#pragma config FOSC = INTOSC, WDTE = OFF, PWRTE = OFF, MCLRE = ON, CP = OFF
#pragma config BOREN = OFF, CLKOUTEN = OFF, IESO = OFF, FCMEN = OFF
#pragma config WRT = OFF, PPS1WAY = ON, ZCD = OFF, PLLEN = OFF
#pragma config STVREN = ON, BORV = LO, LPBOR = OFF, LVP = ON

#include <xc.h>
#include <stdint.h>
#define _XTAL_FREQ 8000000
// PIC16F1773/6/8 - Compile with XC8(v2.31).
// PIC16F1773/6/8 - @8MHz Internal Oscillator.
// v0.1 - 11/2020.

// LCD 4x20 - NHD-0420DZ (ST7066U - HD44780 Compatible) - 4-Bit Low Nibble no Busy Flag.

// PIC8-Bit Trainer.
// SDA - Open.
// SCL - Open.
// VCAP - Open.
// VEE - Close.
// BCKL - Close.

// Pinout.
// MODULE.01 -> GND.
// MODULE.02 -> VDD.
// MODULE.03 -> NC.
// MODULE.04 -> MCU.RA0.
// MODULE.05 -> GND.
// MODULE.06 -> MCU.RA2.
// MODULE.07 -> MCU.RB0.
// MODULE.08 -> MCU.RB1.
// MODULE.09 -> MCU.RB2.
// MODULE.10 -> MCU.RB3.
// MODULE.11 -> NC.
// MODULE.12 -> NC.
// MODULE.13 -> NC.
// MODULE.14 -> NC.
// MODULE.15 -> NC.
// MODULE.16 -> GND.

// Definitions.
// ST7066U Commands Port & Data Port.
#define ST7066U_DATA                                    LATB
#define ST7066U_RS                                      do{LATAbits.LATA0 = 0b1;} while(0)
#define ST7066U_nRS                                     do{LATAbits.LATA0 = 0b0;} while(0)
#define ST7066U_E                                       do{LATAbits.LATA2 = 0b1;} while(0)
#define ST7066U_nE                                      do{LATAbits.LATA2 = 0b0;} while(0)
// ST7066U Instructions.
#define ST7066U_CLEAR_DISPLAY                           0x01
#define ST7066U_RETURN_HOME                             0x02
#define ST7066U_ENTRY_MODE_DDRAM_DECREMENT_NOSHIFT      0x04
#define ST7066U_ENTRY_MODE_DDRAM_DECREMENT_SHIFT        0x05
#define ST7066U_ENTRY_MODE_DDRAM_INCREMENT_NOSHIFT      0x06
#define ST7066U_ENTRY_MODE_DDRAM_INCREMENT_SHIFT        0x07
#define ST7066U_DISPLAY_OFF                             0x08
#define ST7066U_DISPLAY_ON_CURSOR_OFF                   0x0C
#define ST7066U_DISPLAY_ON_CURSOR_ON_NOBLINK            0x0E
#define ST7066U_DISPLAY_ON_CURSOR_ON_BLINK              0x0F
#define ST7066U_DISPLAY_CURSOR_SHIFT_LEFT               0x10
#define ST7066U_DISPLAY_CURSOR_SHIFT_RIGHT              0x14
#define ST7066U_DISPLAY_SCREEN_SHIFT_LEFT               0x18
#define ST7066U_DISPLAY_SCREEN_SHIFT_RIGHT              0x1C
#define ST7066U_FUNCTION_SET_4_BIT_ONE_LINE_FONT5x8     0x20
#define ST7066U_FUNCTION_SET_4_BIT_ONE_LINE_FONT5x11    0x24
#define ST7066U_FUNCTION_SET_4_BIT_TWO_LINE_FONT5x8     0x28
#define ST7066U_FUNCTION_SET_8_BIT_ONE_LINE_FONT5x8     0x30
#define ST7066U_FUNCTION_SET_8_BIT_ONE_LINE_FONT5x11    0x34
#define ST7066U_FUNCTION_SET_8_BIT_TWO_LINE_FONT5x8     0x38
#define ST7066U_SET_CGRAM_ADDRESS                       0x40
#define ST7066U_SET_DDRAM_ADDRESS_FIRST_LINE            0x80
#define ST7066U_SET_DDRAM_ADDRESS_SECOND_LINE           0xC0
#define ST7066U_SET_DDRAM_ADDRESS_THIRD_LINE            0x94
#define ST7066U_SET_DDRAM_ADDRESS_FOURTH_LINE           0xD4
// ASCII Characters.
#define ASCII_SPACE                                     0x20
// NHD-0420DZ Configuration.
#define NHD0420DZ_CONFIGURATION_LINE                    4
#define NHD0420DZ_CONFIGURATION_CHARACTER               20
#define NHD0420DZ_CONFIGURATION_FIRST_LINE              ST7066U_SET_DDRAM_ADDRESS_FIRST_LINE
#define NHD0420DZ_CONFIGURATION_SECOND_LINE             ST7066U_SET_DDRAM_ADDRESS_SECOND_LINE
#define NHD0420DZ_CONFIGURATION_THIRD_LINE              ST7066U_SET_DDRAM_ADDRESS_THIRD_LINE
#define NHD0420DZ_CONFIGURATION_FOURTH_LINE             ST7066U_SET_DDRAM_ADDRESS_FOURTH_LINE

// Functions Prototype.
void lcd_clearDisplay(void);
void lcd_clearLine(uint8_t u8Line);
void lcd_initialize(void);
void lcd_writeData(uint8_t u8Data);
void lcd_writeInstruction(uint8_t u8Data);
void lcd_writeString(const uint8_t * u8Data);
void lcd_writeStringSetCursor(const uint8_t * u8Data, uint8_t u8Cursor);

// Strings & Custom patterns.
const uint8_t string0[] = "Tronix I/O";
const uint8_t string1[] = "www.tronix.io";
const uint8_t string2[] = "Custom patterns";
const uint8_t separator[] = " - ";
const uint8_t custom_patterns[5][8] = {
    {0x0e, 0x1b, 0x11, 0x11, 0x11, 0x11, 0x11, 0x1f},
    {0x0e, 0x1b, 0x11, 0x11, 0x11, 0x1f, 0x1f, 0x1f},
    {0x0e, 0x1b, 0x11, 0x11, 0x1f, 0x1f, 0x1f, 0x1f},
    {0x0e, 0x1b, 0x11, 0x1f, 0x1f, 0x1f, 0x1f, 0x1f},
    {0x0e, 0x1f, 0x1f, 0x1f, 0x1f, 0x1f, 0x1f, 0x1f}
};

// Main.
void main(void)
{
    // MCU Initialization.
    // Internal Oscillator Settings.
    OSCCON = 0b01110000;
    // Ports Settings.
    // PORT Data Register.
    PORTA = 0b00000000;
    PORTB = 0b00000000;
    PORTC = 0b00000000;
    // TRIS Data Direction.
    TRISA = 0b00000000;
    TRISB = 0b00000000;
    TRISC = 0b00000000;
    // WPU Disable.
    OPTION_REGbits.nWPUEN = 0b1;
    // LATCH Outputs.
    LATA = 0b00000000;
    LATB = 0b00000000;
    LATC = 0b00000000;
    // ANSEL Analog.
    ANSELA = 0b00000000;
    ANSELB = 0b00000000;
    ANSELC = 0b00000000;
    // WPU Weak Pull-up.
    WPUA = 0b00000000;
    WPUB = 0b00000000;
    WPUC = 0b00000000;
    // ODCON Open-drain.
    ODCONA = 0b00000000;
    ODCONB = 0b00000000;
    ODCONC = 0b00000000;
    // SRLCON Slew Rate.
    SLRCONA = 0b11111111;
    SLRCONB = 0b11111111;
    SLRCONC = 0b11111111;
    // INLVL Input Level.
    INLVLA  = 0b00000000;
    INLVLB  = 0b00000000;
    INLVLC  = 0b00000000;
    // HIDRVB High Drive.
    HIDRVB  = 0b00000000;

    // ST7066U Initialization.
    lcd_initialize();

    // Write 5x8 Dots Custom Patterns in ST7066U CGRAM.
    lcd_writeInstruction(ST7066U_SET_CGRAM_ADDRESS);
    uint8_t line = 0;
    uint8_t pattern = 0;
    for(pattern=0; pattern<5; pattern++){
        for(line=0; line<8; line++){
            lcd_writeData(custom_patterns[pattern][line]);
        }
    }

    // Display String.
    lcd_writeStringSetCursor(string0, NHD0420DZ_CONFIGURATION_FIRST_LINE + 0x05);
    lcd_writeStringSetCursor(string1, NHD0420DZ_CONFIGURATION_SECOND_LINE + 0x03);
    lcd_writeStringSetCursor(string2, NHD0420DZ_CONFIGURATION_THIRD_LINE + 0x02);

    // Display Custom Patterns from ST7066U CGRAM.
    lcd_writeInstruction(NHD0420DZ_CONFIGURATION_FOURTH_LINE + 0x05);
    lcd_writeData(0x00);
    lcd_writeData(0x01);
    lcd_writeData(0x02);
    lcd_writeData(0x03);
    lcd_writeData(0x04);
    lcd_writeString(separator);

    while(1){
        for(pattern=0; pattern<5; pattern++){
            lcd_writeInstruction(NHD0420DZ_CONFIGURATION_FOURTH_LINE + 0x0d);
            lcd_writeData(pattern);
            __delay_ms(500);
        }
    }
}

// Functions.
void lcd_clearDisplay(void)
{
    lcd_writeInstruction(ST7066U_CLEAR_DISPLAY);
    __delay_ms(2);
}

void lcd_clearLine(uint8_t u8Line)
{
    uint8_t u8Characters = NHD0420DZ_CONFIGURATION_CHARACTER;
    
    lcd_writeInstruction(u8Line);
    while(u8Characters--){
        lcd_writeData(ASCII_SPACE);
    }
}

void lcd_initialize(void)
{
    __delay_ms(50);
    lcd_writeInstruction(ST7066U_FUNCTION_SET_8_BIT_TWO_LINE_FONT5x8);
    lcd_writeInstruction(ST7066U_FUNCTION_SET_4_BIT_TWO_LINE_FONT5x8);
    lcd_writeInstruction(ST7066U_FUNCTION_SET_4_BIT_TWO_LINE_FONT5x8);
    lcd_writeInstruction(ST7066U_DISPLAY_ON_CURSOR_OFF);
    lcd_writeInstruction(ST7066U_ENTRY_MODE_DDRAM_INCREMENT_NOSHIFT);
    lcd_writeInstruction(ST7066U_CLEAR_DISPLAY);
    __delay_ms(2);
}

void lcd_writeData(uint8_t u8Data)
{
    ST7066U_RS;
    ST7066U_DATA &= 0xF0;
    ST7066U_E;
    ST7066U_DATA |= ((u8Data>>4) & 0x0F);
    ST7066U_nE;
    ST7066U_DATA &= 0xF0;
    ST7066U_E;
    ST7066U_DATA |= (u8Data & 0x0F);
    ST7066U_nE;
    __delay_us(40);
}

void lcd_writeInstruction(uint8_t u8Data)
{
    ST7066U_nRS;
    ST7066U_DATA &= 0xF0;
    ST7066U_E;
    ST7066U_DATA |= ((u8Data>>4) & 0x0F);
    ST7066U_nE;
    ST7066U_DATA &= 0xF0;
    ST7066U_E;
    ST7066U_DATA |= (u8Data & 0x0F);
    ST7066U_nE;
    __delay_us(40);
}

void lcd_writeString(const uint8_t * u8Data)
{
    while(*u8Data != '\0')
        lcd_writeData(*u8Data++);
}

void lcd_writeStringSetCursor(const uint8_t * u8Data, uint8_t u8Cursor)
{
    lcd_writeInstruction(u8Cursor);
    while(*u8Data != '\0')
        lcd_writeData(*u8Data++);
}
```

## 4.PIC16F1778 - 4-Bit Low Nibble with Busy Flag.

```c
// Configuration Registers.
#pragma config FOSC = INTOSC, WDTE = OFF, PWRTE = OFF, MCLRE = ON, CP = OFF
#pragma config BOREN = OFF, CLKOUTEN = OFF, IESO = OFF, FCMEN = OFF
#pragma config WRT = OFF, PPS1WAY = ON, ZCD = OFF, PLLEN = OFF
#pragma config STVREN = ON, BORV = LO, LPBOR = OFF, LVP = ON

#include <xc.h>
#include <stdint.h>
#define _XTAL_FREQ 8000000
// PIC16F1773/6/8 - Compile with XC8(v2.31).
// PIC16F1773/6/8 - @8MHz Internal Oscillator.
// v0.1 - 11/2020.

// LCD 4x20 - NHD-0420DZ (ST7066U - HD44780 Compatible) - 4-Bit Low Nibble with Busy Flag.

// PIC8-Bit Trainer.
// SDA - Open.
// SCL - Open.
// VCAP - Open.
// VEE - Close.
// BCKL - Close.

// Pinout.
// MODULE.01 -> GND.
// MODULE.02 -> VDD.
// MODULE.03 -> NC.
// MODULE.04 -> MCU.RA0.
// MODULE.05 -> MCU.RA1.
// MODULE.06 -> MCU.RA2.
// MODULE.07 -> MCU.RB0.
// MODULE.08 -> MCU.RB1.
// MODULE.09 -> MCU.RB2.
// MODULE.10 -> MCU.RB3.
// MODULE.11 -> NC.
// MODULE.12 -> NC.
// MODULE.13 -> NC.
// MODULE.14 -> NC.
// MODULE.15 -> NC.
// MODULE.16 -> GND.

// Definitions.
// ST7066U Commands Port & Data Port.
#define ST7066U_DATA                                    LATB
#define ST7066U_RS                                      do{LATAbits.LATA0 = 0b1;} while(0)
#define ST7066U_nRS                                     do{LATAbits.LATA0 = 0b0;} while(0)
#define ST7066U_RW                                      do{LATAbits.LATA1 = 0b1;} while(0)
#define ST7066U_nRW                                     do{LATAbits.LATA1 = 0b0;} while(0)
#define ST7066U_E                                       do{LATAbits.LATA2 = 0b1;} while(0)
#define ST7066U_nE                                      do{LATAbits.LATA2 = 0b0;} while(0)
#define ST7066U_BF                                      PORTBbits.RB3
#define ST7066U_BF_INPUT                                do{TRISBbits.TRISB3 = 0b1;} while(0)
#define ST7066U_BF_OUTPUT                               do{TRISBbits.TRISB3 = 0b0;} while(0)
// ST7066U Instructions.
#define ST7066U_CLEAR_DISPLAY                           0x01
#define ST7066U_RETURN_HOME                             0x02
#define ST7066U_ENTRY_MODE_DDRAM_DECREMENT_NOSHIFT      0x04
#define ST7066U_ENTRY_MODE_DDRAM_DECREMENT_SHIFT        0x05
#define ST7066U_ENTRY_MODE_DDRAM_INCREMENT_NOSHIFT      0x06
#define ST7066U_ENTRY_MODE_DDRAM_INCREMENT_SHIFT        0x07
#define ST7066U_DISPLAY_OFF                             0x08
#define ST7066U_DISPLAY_ON_CURSOR_OFF                   0x0C
#define ST7066U_DISPLAY_ON_CURSOR_ON_NOBLINK            0x0E
#define ST7066U_DISPLAY_ON_CURSOR_ON_BLINK              0x0F
#define ST7066U_DISPLAY_CURSOR_SHIFT_LEFT               0x10
#define ST7066U_DISPLAY_CURSOR_SHIFT_RIGHT              0x14
#define ST7066U_DISPLAY_SCREEN_SHIFT_LEFT               0x18
#define ST7066U_DISPLAY_SCREEN_SHIFT_RIGHT              0x1C
#define ST7066U_FUNCTION_SET_4_BIT_ONE_LINE_FONT5x8     0x20
#define ST7066U_FUNCTION_SET_4_BIT_ONE_LINE_FONT5x11    0x24
#define ST7066U_FUNCTION_SET_4_BIT_TWO_LINE_FONT5x8     0x28
#define ST7066U_FUNCTION_SET_8_BIT_ONE_LINE_FONT5x8     0x30
#define ST7066U_FUNCTION_SET_8_BIT_ONCE                 0x33
#define ST7066U_FUNCTION_SET_8_BIT_ONE_LINE_FONT5x11    0x34
#define ST7066U_FUNCTION_SET_8_BIT_TWO_LINE_FONT5x8     0x38
#define ST7066U_SET_CGRAM_ADDRESS                       0x40
#define ST7066U_SET_DDRAM_ADDRESS_FIRST_LINE            0x80
#define ST7066U_SET_DDRAM_ADDRESS_SECOND_LINE           0xC0
#define ST7066U_SET_DDRAM_ADDRESS_THIRD_LINE            0x94
#define ST7066U_SET_DDRAM_ADDRESS_FOURTH_LINE           0xD4
// ASCII Characters.
#define ASCII_SPACE                                     0x20
// NHD-0420DZ Configuration.
#define NHD0420DZ_CONFIGURATION_LINE                    4
#define NHD0420DZ_CONFIGURATION_CHARACTER               20
#define NHD0420DZ_CONFIGURATION_FIRST_LINE              ST7066U_SET_DDRAM_ADDRESS_FIRST_LINE
#define NHD0420DZ_CONFIGURATION_SECOND_LINE             ST7066U_SET_DDRAM_ADDRESS_SECOND_LINE
#define NHD0420DZ_CONFIGURATION_THIRD_LINE              ST7066U_SET_DDRAM_ADDRESS_THIRD_LINE
#define NHD0420DZ_CONFIGURATION_FOURTH_LINE             ST7066U_SET_DDRAM_ADDRESS_FOURTH_LINE

// Functions Prototype.
void lcd_clearDisplay(void);
void lcd_clearLine(uint8_t u8Line);
void lcd_initialize(void);
void lcd_readBusyFlag(void);
void lcd_writeData(uint8_t u8Data);
void lcd_writeInstruction(uint8_t u8Data);
void lcd_writeInstructionNOBF(uint8_t u8Data);
void lcd_writeString(const uint8_t * u8Data);
void lcd_writeStringSetCursor(const uint8_t * u8Data, uint8_t u8Cursor);

// Strings & Custom patterns.
const uint8_t string0[] = "Tronix I/O";
const uint8_t string1[] = "www.tronix.io";
const uint8_t string2[] = "Custom patterns";
const uint8_t separator[] = " - ";
const uint8_t custom_patterns[5][8] = {
    {0x0e, 0x1b, 0x11, 0x11, 0x11, 0x11, 0x11, 0x1f},
    {0x0e, 0x1b, 0x11, 0x11, 0x11, 0x1f, 0x1f, 0x1f},
    {0x0e, 0x1b, 0x11, 0x11, 0x1f, 0x1f, 0x1f, 0x1f},
    {0x0e, 0x1b, 0x11, 0x1f, 0x1f, 0x1f, 0x1f, 0x1f},
    {0x0e, 0x1f, 0x1f, 0x1f, 0x1f, 0x1f, 0x1f, 0x1f}
};

// Main.
void main(void)
{
    // MCU Initialization.
    // Internal Oscillator Settings.
    OSCCON = 0b01110000;
    // Ports Settings.
    // PORT Data Register.
    PORTA = 0b00000000;
    PORTB = 0b00000000;
    PORTC = 0b00000000;
    // TRIS Data Direction.
    TRISA = 0b00000000;
    TRISB = 0b00000000;
    TRISC = 0b00000000;
    // WPU Disable.
    OPTION_REGbits.nWPUEN = 0b1;
    // LATCH Outputs.
    LATA = 0b00000000;
    LATB = 0b00000000;
    LATC = 0b00000000;
    // ANSEL Analog.
    ANSELA = 0b00000000;
    ANSELB = 0b00000000;
    ANSELC = 0b00000000;
    // WPU Weak Pull-up.
    WPUA = 0b00000000;
    WPUB = 0b00000000;
    WPUC = 0b00000000;
    // ODCON Open-drain.
    ODCONA = 0b00000000;
    ODCONB = 0b00000000;
    ODCONC = 0b00000000;
    // SRLCON Slew Rate.
    SLRCONA = 0b11111111;
    SLRCONB = 0b11111111;
    SLRCONC = 0b11111111;
    // INLVL Input Level.
    INLVLA  = 0b00000000;
    INLVLB  = 0b00000000;
    INLVLC  = 0b00000000;
    // HIDRVB High Drive.
    HIDRVB  = 0b00000000;

    // ST7066U Initialization.
    lcd_initialize();

    // Write 5x8 Dots Custom Patterns in ST7066U CGRAM.
    lcd_writeInstruction(ST7066U_SET_CGRAM_ADDRESS);
    uint8_t line = 0;
    uint8_t pattern = 0;
    for(pattern=0; pattern<5; pattern++){
        for(line=0; line<8; line++){
            lcd_writeData(custom_patterns[pattern][line]);
        }
    }

    // Display String.
    lcd_writeStringSetCursor(string0, NHD0420DZ_CONFIGURATION_FIRST_LINE + 0x05);
    lcd_writeStringSetCursor(string1, NHD0420DZ_CONFIGURATION_SECOND_LINE + 0x03);
    lcd_writeStringSetCursor(string2, NHD0420DZ_CONFIGURATION_THIRD_LINE + 0x02);

    // Display Custom Patterns from ST7066U CGRAM.
    lcd_writeInstruction(NHD0420DZ_CONFIGURATION_FOURTH_LINE + 0x05);
    lcd_writeData(0x00);
    lcd_writeData(0x01);
    lcd_writeData(0x02);
    lcd_writeData(0x03);
    lcd_writeData(0x04);
    lcd_writeString(separator);

    while(1){
        for(pattern=0; pattern<5; pattern++){
            lcd_writeInstruction(NHD0420DZ_CONFIGURATION_FOURTH_LINE + 0x0d);
            lcd_writeData(pattern);
            __delay_ms(500);
        }
    }
}

// Functions.
void lcd_clearDisplay(void)
{
    lcd_writeInstruction(ST7066U_CLEAR_DISPLAY);
    __delay_ms(2);
}

void lcd_clearLine(uint8_t u8Line)
{
    uint8_t u8Characters = NHD0420DZ_CONFIGURATION_CHARACTER;
    
    lcd_writeInstruction(u8Line);
    while(u8Characters--){
        lcd_writeData(ASCII_SPACE);
    }
}

void lcd_initialize(void)
{
    __delay_ms(50);
    lcd_writeInstructionNOBF(ST7066U_FUNCTION_SET_8_BIT_ONCE);
    lcd_writeInstructionNOBF(ST7066U_FUNCTION_SET_4_BIT_TWO_LINE_FONT5x8);
    lcd_writeInstructionNOBF(ST7066U_FUNCTION_SET_4_BIT_TWO_LINE_FONT5x8);
    lcd_writeInstruction(ST7066U_DISPLAY_ON_CURSOR_OFF);
    lcd_writeInstruction(ST7066U_ENTRY_MODE_DDRAM_INCREMENT_NOSHIFT);
    lcd_writeInstruction(ST7066U_CLEAR_DISPLAY);
    __delay_ms(2);
}

void lcd_readBusyFlag(void)
{
    ST7066U_nRS;
    ST7066U_RW;
    ST7066U_BF_INPUT;
    __delay_us(5);
    do{
        ST7066U_nE;
        ST7066U_E;
    }while(ST7066U_BF);
    ST7066U_BF_OUTPUT;
    ST7066U_nRW;
}

void lcd_writeData(uint8_t u8Data)
{
    ST7066U_RS;
    ST7066U_DATA &= 0xF0;
    ST7066U_E;
    ST7066U_DATA |= ((u8Data>>4) & 0x0F);
    ST7066U_nE;
    ST7066U_DATA &= 0xF0;
    ST7066U_E;
    ST7066U_DATA |= (u8Data & 0x0F);
    ST7066U_nE;
    lcd_readBusyFlag();
}

void lcd_writeInstruction(uint8_t u8Data)
{
    ST7066U_nRS;
    ST7066U_DATA &= 0xF0;
    ST7066U_E;
    ST7066U_DATA |= ((u8Data>>4) & 0x0F);
    ST7066U_nE;
    ST7066U_DATA &= 0xF0;
    ST7066U_E;
    ST7066U_DATA |= (u8Data & 0x0F);
    ST7066U_nE;
    lcd_readBusyFlag();
}

void lcd_writeInstructionNOBF(uint8_t u8Data)
{
    ST7066U_nRS;
    ST7066U_DATA &= 0xF0;
    ST7066U_E;
    ST7066U_DATA |= ((u8Data>>4) & 0x0F);
    ST7066U_nE;
    ST7066U_DATA &= 0xF0;
    ST7066U_E;
    ST7066U_DATA |= (u8Data & 0x0F);
    ST7066U_nE;
    __delay_us(40);
}

void lcd_writeString(const uint8_t * u8Data)
{
    while(*u8Data != '\0')
        lcd_writeData(*u8Data++);
}

void lcd_writeStringSetCursor(const uint8_t * u8Data, uint8_t u8Cursor)
{
    lcd_writeInstruction(u8Cursor);
    while(*u8Data != '\0')
        lcd_writeData(*u8Data++);
}
```

## 5.PIC16F1778 - 4-Bit High Nibble no Busy Flag.

```c
// Configuration Registers.
#pragma config FOSC = INTOSC, WDTE = OFF, PWRTE = OFF, MCLRE = ON, CP = OFF
#pragma config BOREN = OFF, CLKOUTEN = OFF, IESO = OFF, FCMEN = OFF
#pragma config WRT = OFF, PPS1WAY = ON, ZCD = OFF, PLLEN = OFF
#pragma config STVREN = ON, BORV = LO, LPBOR = OFF, LVP = ON

#include <xc.h>
#include <stdint.h>
#define _XTAL_FREQ 8000000
// PIC16F1773/6/8 - Compile with XC8(v2.31).
// PIC16F1773/6/8 - @8MHz Internal Oscillator.
// v0.1 - 11/2020.

// LCD 4x20 - NHD-0420DZ (ST7066U - HD44780 Compatible) - 4-Bit High Nibble no Busy Flag.

// PIC8-Bit Trainer.
// SDA - Open.
// SCL - Open.
// VCAP - Open.
// VEE - Close.
// BCKL - Close.

// Pinout.
// MODULE.01 -> GND.
// MODULE.02 -> VDD.
// MODULE.03 -> NC.
// MODULE.04 -> MCU.RA0.
// MODULE.05 -> GND.
// MODULE.06 -> MCU.RA2.
// MODULE.07 -> NC.
// MODULE.08 -> NC.
// MODULE.09 -> NC.
// MODULE.10 -> NC.
// MODULE.11 -> MCU.RB4.
// MODULE.12 -> MCU.RB5.
// MODULE.13 -> MCU.RB6.
// MODULE.14 -> MCU.RB7.
// MODULE.15 -> NC.
// MODULE.16 -> GND.

// Definitions.
// ST7066U Commands Port & Data Port.
#define ST7066U_DATA                                    LATB
#define ST7066U_RS                                      do{LATAbits.LATA0 = 0b1;} while(0)
#define ST7066U_nRS                                     do{LATAbits.LATA0 = 0b0;} while(0)
#define ST7066U_E                                       do{LATAbits.LATA2 = 0b1;} while(0)
#define ST7066U_nE                                      do{LATAbits.LATA2 = 0b0;} while(0)
// ST7066U Instructions.
#define ST7066U_CLEAR_DISPLAY                           0x01
#define ST7066U_RETURN_HOME                             0x02
#define ST7066U_ENTRY_MODE_DDRAM_DECREMENT_NOSHIFT      0x04
#define ST7066U_ENTRY_MODE_DDRAM_DECREMENT_SHIFT        0x05
#define ST7066U_ENTRY_MODE_DDRAM_INCREMENT_NOSHIFT      0x06
#define ST7066U_ENTRY_MODE_DDRAM_INCREMENT_SHIFT        0x07
#define ST7066U_DISPLAY_OFF                             0x08
#define ST7066U_DISPLAY_ON_CURSOR_OFF                   0x0C
#define ST7066U_DISPLAY_ON_CURSOR_ON_NOBLINK            0x0E
#define ST7066U_DISPLAY_ON_CURSOR_ON_BLINK              0x0F
#define ST7066U_DISPLAY_CURSOR_SHIFT_LEFT               0x10
#define ST7066U_DISPLAY_CURSOR_SHIFT_RIGHT              0x14
#define ST7066U_DISPLAY_SCREEN_SHIFT_LEFT               0x18
#define ST7066U_DISPLAY_SCREEN_SHIFT_RIGHT              0x1C
#define ST7066U_FUNCTION_SET_4_BIT_ONE_LINE_FONT5x8     0x20
#define ST7066U_FUNCTION_SET_4_BIT_ONE_LINE_FONT5x11    0x24
#define ST7066U_FUNCTION_SET_4_BIT_TWO_LINE_FONT5x8     0x28
#define ST7066U_FUNCTION_SET_8_BIT_ONE_LINE_FONT5x8     0x30
#define ST7066U_FUNCTION_SET_8_BIT_ONE_LINE_FONT5x11    0x34
#define ST7066U_FUNCTION_SET_8_BIT_TWO_LINE_FONT5x8     0x38
#define ST7066U_SET_CGRAM_ADDRESS                       0x40
#define ST7066U_SET_DDRAM_ADDRESS_FIRST_LINE            0x80
#define ST7066U_SET_DDRAM_ADDRESS_SECOND_LINE           0xC0
#define ST7066U_SET_DDRAM_ADDRESS_THIRD_LINE            0x94
#define ST7066U_SET_DDRAM_ADDRESS_FOURTH_LINE           0xD4
// ASCII Characters.
#define ASCII_SPACE                                     0x20
// NHD-0420DZ Configuration.
#define NHD0420DZ_CONFIGURATION_LINE                    4
#define NHD0420DZ_CONFIGURATION_CHARACTER               20
#define NHD0420DZ_CONFIGURATION_FIRST_LINE              ST7066U_SET_DDRAM_ADDRESS_FIRST_LINE
#define NHD0420DZ_CONFIGURATION_SECOND_LINE             ST7066U_SET_DDRAM_ADDRESS_SECOND_LINE
#define NHD0420DZ_CONFIGURATION_THIRD_LINE              ST7066U_SET_DDRAM_ADDRESS_THIRD_LINE
#define NHD0420DZ_CONFIGURATION_FOURTH_LINE             ST7066U_SET_DDRAM_ADDRESS_FOURTH_LINE

// Functions Prototype.
void lcd_clearDisplay(void);
void lcd_clearLine(uint8_t u8Line);
void lcd_initialize(void);
void lcd_writeData(uint8_t u8Data);
void lcd_writeInstruction(uint8_t u8Data);
void lcd_writeString(const uint8_t * u8Data);
void lcd_writeStringSetCursor(const uint8_t * u8Data, uint8_t u8Cursor);

// Strings & Custom patterns.
const uint8_t string0[] = "Tronix I/O";
const uint8_t string1[] = "www.tronix.io";
const uint8_t string2[] = "Custom patterns";
const uint8_t separator[] = " - ";
const uint8_t custom_patterns[5][8] = {
    {0x0e, 0x1b, 0x11, 0x11, 0x11, 0x11, 0x11, 0x1f},
    {0x0e, 0x1b, 0x11, 0x11, 0x11, 0x1f, 0x1f, 0x1f},
    {0x0e, 0x1b, 0x11, 0x11, 0x1f, 0x1f, 0x1f, 0x1f},
    {0x0e, 0x1b, 0x11, 0x1f, 0x1f, 0x1f, 0x1f, 0x1f},
    {0x0e, 0x1f, 0x1f, 0x1f, 0x1f, 0x1f, 0x1f, 0x1f}
};

// Main.
void main(void)
{
    // MCU Initialization.
    // Internal Oscillator Settings.
    OSCCON = 0b01110000;
    // Ports Settings.
    // PORT Data Register.
    PORTA = 0b00000000;
    PORTB = 0b00000000;
    PORTC = 0b00000000;
    // TRIS Data Direction.
    TRISA = 0b00000000;
    TRISB = 0b00000000;
    TRISC = 0b00000000;
    // WPU Disable.
    OPTION_REGbits.nWPUEN = 0b1;
    // LATCH Outputs.
    LATA = 0b00000000;
    LATB = 0b00000000;
    LATC = 0b00000000;
    // ANSEL Analog.
    ANSELA = 0b00000000;
    ANSELB = 0b00000000;
    ANSELC = 0b00000000;
    // WPU Weak Pull-up.
    WPUA = 0b00000000;
    WPUB = 0b00000000;
    WPUC = 0b00000000;
    // ODCON Open-drain.
    ODCONA = 0b00000000;
    ODCONB = 0b00000000;
    ODCONC = 0b00000000;
    // SRLCON Slew Rate.
    SLRCONA = 0b11111111;
    SLRCONB = 0b11111111;
    SLRCONC = 0b11111111;
    // INLVL Input Level.
    INLVLA  = 0b00000000;
    INLVLB  = 0b00000000;
    INLVLC  = 0b00000000;
    // HIDRVB High Drive.
    HIDRVB  = 0b00000000;

    // ST7066U Initialization.
    lcd_initialize();

    // Write 5x8 Dots Custom Patterns in ST7066U CGRAM.
    lcd_writeInstruction(ST7066U_SET_CGRAM_ADDRESS);
    uint8_t line = 0;
    uint8_t pattern = 0;
    for(pattern=0; pattern<5; pattern++){
        for(line=0; line<8; line++){
            lcd_writeData(custom_patterns[pattern][line]);
        }
    }

    // Display String.
    lcd_writeStringSetCursor(string0, NHD0420DZ_CONFIGURATION_FIRST_LINE + 0x05);
    lcd_writeStringSetCursor(string1, NHD0420DZ_CONFIGURATION_SECOND_LINE + 0x03);
    lcd_writeStringSetCursor(string2, NHD0420DZ_CONFIGURATION_THIRD_LINE + 0x02);

    // Display Custom Patterns from ST7066U CGRAM.
    lcd_writeInstruction(NHD0420DZ_CONFIGURATION_FOURTH_LINE + 0x05);
    lcd_writeData(0x00);
    lcd_writeData(0x01);
    lcd_writeData(0x02);
    lcd_writeData(0x03);
    lcd_writeData(0x04);
    lcd_writeString(separator);

    while(1){
        for(pattern=0; pattern<5; pattern++){
            lcd_writeInstruction(NHD0420DZ_CONFIGURATION_FOURTH_LINE + 0x0d);
            lcd_writeData(pattern);
            __delay_ms(500);
        }
    }
}

// Functions.
void lcd_clearDisplay(void)
{
    lcd_writeInstruction(ST7066U_CLEAR_DISPLAY);
    __delay_ms(2);
}

void lcd_clearLine(uint8_t u8Line)
{
    uint8_t u8Characters = NHD0420DZ_CONFIGURATION_CHARACTER;
    
    lcd_writeInstruction(u8Line);
    while(u8Characters--){
        lcd_writeData(ASCII_SPACE);
    }
}

void lcd_initialize(void)
{
    __delay_ms(50);
    lcd_writeInstruction(ST7066U_FUNCTION_SET_8_BIT_TWO_LINE_FONT5x8);
    lcd_writeInstruction(ST7066U_FUNCTION_SET_4_BIT_TWO_LINE_FONT5x8);
    lcd_writeInstruction(ST7066U_FUNCTION_SET_4_BIT_TWO_LINE_FONT5x8);
    lcd_writeInstruction(ST7066U_DISPLAY_ON_CURSOR_OFF);
    lcd_writeInstruction(ST7066U_ENTRY_MODE_DDRAM_INCREMENT_NOSHIFT);
    lcd_writeInstruction(ST7066U_CLEAR_DISPLAY);
    __delay_ms(2);
}

void lcd_writeData(uint8_t u8Data)
{
    ST7066U_RS;
    ST7066U_DATA &= 0x0F;
    ST7066U_E;
    ST7066U_DATA |= (u8Data & 0xF0);
    ST7066U_nE;
    ST7066U_DATA &= 0x0F;
    ST7066U_E;
    ST7066U_DATA |= ((u8Data<<4) & 0xF0);
    ST7066U_nE;
    __delay_us(40);
}

void lcd_writeInstruction(uint8_t u8Data)
{
    ST7066U_nRS;
    ST7066U_DATA &= 0x0F;
    ST7066U_E;
    ST7066U_DATA |= (u8Data & 0xF0);
    ST7066U_nE;
    ST7066U_DATA &= 0x0F;
    ST7066U_E;
    ST7066U_DATA |= ((u8Data<<4) & 0xF0);
    ST7066U_nE;
    __delay_us(40);
}

void lcd_writeString(const uint8_t * u8Data)
{
    while(*u8Data != '\0')
        lcd_writeData(*u8Data++);
}

void lcd_writeStringSetCursor(const uint8_t * u8Data, uint8_t u8Cursor)
{
    lcd_writeInstruction(u8Cursor);
    while(*u8Data != '\0')
        lcd_writeData(*u8Data++);
}
```

## 6.PIC16F1778 - 4-Bit High Nibble with Busy Flag.

```c
// Configuration Registers.
#pragma config FOSC = INTOSC, WDTE = OFF, PWRTE = OFF, MCLRE = ON, CP = OFF
#pragma config BOREN = OFF, CLKOUTEN = OFF, IESO = OFF, FCMEN = OFF
#pragma config WRT = OFF, PPS1WAY = ON, ZCD = OFF, PLLEN = OFF
#pragma config STVREN = ON, BORV = LO, LPBOR = OFF, LVP = ON

#include <xc.h>
#include <stdint.h>
#define _XTAL_FREQ 8000000
// PIC16F1773/6/8 - Compile with XC8(v2.31).
// PIC16F1773/6/8 - @8MHz Internal Oscillator.
// v0.1 - 11/2020.

// LCD 4x20 - NHD-0420DZ (ST7066U - HD44780 Compatible) - 4-Bit High Nibble no Busy Flag.

// PIC8-Bit Trainer.
// SDA - Open.
// SCL - Open.
// VCAP - Open.
// VEE - Close.
// BCKL - Close.

// Pinout.
// MODULE.01 -> GND.
// MODULE.02 -> VDD.
// MODULE.03 -> NC.
// MODULE.04 -> MCU.RA0.
// MODULE.05 -> MCU.RA1.
// MODULE.06 -> MCU.RA2.
// MODULE.07 -> NC.
// MODULE.08 -> NC.
// MODULE.09 -> NC.
// MODULE.10 -> NC.
// MODULE.11 -> MCU.RB4.
// MODULE.12 -> MCU.RB5.
// MODULE.13 -> MCU.RB6.
// MODULE.14 -> MCU.RB7.
// MODULE.15 -> NC.
// MODULE.16 -> GND.

// Definitions.
// ST7066U Commands Port & Data Port.
#define ST7066U_DATA                                    LATB
#define ST7066U_RS                                      do{LATAbits.LATA0 = 0b1;} while(0)
#define ST7066U_nRS                                     do{LATAbits.LATA0 = 0b0;} while(0)
#define ST7066U_RW                                      do{LATAbits.LATA1 = 0b1;} while(0)
#define ST7066U_nRW                                     do{LATAbits.LATA1 = 0b0;} while(0)
#define ST7066U_E                                       do{LATAbits.LATA2 = 0b1;} while(0)
#define ST7066U_nE                                      do{LATAbits.LATA2 = 0b0;} while(0)
#define ST7066U_BF                                      PORTBbits.RB7
#define ST7066U_BF_INPUT                                do{TRISBbits.TRISB7 = 0b1;} while(0)
#define ST7066U_BF_OUTPUT                               do{TRISBbits.TRISB7 = 0b0;} while(0)
// ST7066U Instructions.
#define ST7066U_CLEAR_DISPLAY                           0x01
#define ST7066U_RETURN_HOME                             0x02
#define ST7066U_ENTRY_MODE_DDRAM_DECREMENT_NOSHIFT      0x04
#define ST7066U_ENTRY_MODE_DDRAM_DECREMENT_SHIFT        0x05
#define ST7066U_ENTRY_MODE_DDRAM_INCREMENT_NOSHIFT      0x06
#define ST7066U_ENTRY_MODE_DDRAM_INCREMENT_SHIFT        0x07
#define ST7066U_DISPLAY_OFF                             0x08
#define ST7066U_DISPLAY_ON_CURSOR_OFF                   0x0C
#define ST7066U_DISPLAY_ON_CURSOR_ON_NOBLINK            0x0E
#define ST7066U_DISPLAY_ON_CURSOR_ON_BLINK              0x0F
#define ST7066U_DISPLAY_CURSOR_SHIFT_LEFT               0x10
#define ST7066U_DISPLAY_CURSOR_SHIFT_RIGHT              0x14
#define ST7066U_DISPLAY_SCREEN_SHIFT_LEFT               0x18
#define ST7066U_DISPLAY_SCREEN_SHIFT_RIGHT              0x1C
#define ST7066U_FUNCTION_SET_4_BIT_ONE_LINE_FONT5x8     0x20
#define ST7066U_FUNCTION_SET_4_BIT_ONE_LINE_FONT5x11    0x24
#define ST7066U_FUNCTION_SET_4_BIT_TWO_LINE_FONT5x8     0x28
#define ST7066U_FUNCTION_SET_8_BIT_ONE_LINE_FONT5x8     0x30
#define ST7066U_FUNCTION_SET_8_BIT_ONCE                 0x33
#define ST7066U_FUNCTION_SET_8_BIT_ONE_LINE_FONT5x11    0x34
#define ST7066U_FUNCTION_SET_8_BIT_TWO_LINE_FONT5x8     0x38
#define ST7066U_SET_CGRAM_ADDRESS                       0x40
#define ST7066U_SET_DDRAM_ADDRESS_FIRST_LINE            0x80
#define ST7066U_SET_DDRAM_ADDRESS_SECOND_LINE           0xC0
#define ST7066U_SET_DDRAM_ADDRESS_THIRD_LINE            0x94
#define ST7066U_SET_DDRAM_ADDRESS_FOURTH_LINE           0xD4
// ASCII Characters.
#define ASCII_SPACE                                     0x20
// NHD-0420DZ Configuration.
#define NHD0420DZ_CONFIGURATION_LINE                    4
#define NHD0420DZ_CONFIGURATION_CHARACTER               20
#define NHD0420DZ_CONFIGURATION_FIRST_LINE              ST7066U_SET_DDRAM_ADDRESS_FIRST_LINE
#define NHD0420DZ_CONFIGURATION_SECOND_LINE             ST7066U_SET_DDRAM_ADDRESS_SECOND_LINE
#define NHD0420DZ_CONFIGURATION_THIRD_LINE              ST7066U_SET_DDRAM_ADDRESS_THIRD_LINE
#define NHD0420DZ_CONFIGURATION_FOURTH_LINE             ST7066U_SET_DDRAM_ADDRESS_FOURTH_LINE

// Functions Prototype.
void lcd_clearDisplay(void);
void lcd_clearLine(uint8_t u8Line);
void lcd_initialize(void);
void lcd_readBusyFlag(void);
void lcd_writeData(uint8_t u8Data);
void lcd_writeInstruction(uint8_t u8Data);
void lcd_writeInstructionNOBF(uint8_t u8Data);
void lcd_writeString(const uint8_t * u8Data);
void lcd_writeStringSetCursor(const uint8_t * u8Data, uint8_t u8Cursor);

// Strings & Custom patterns.
const uint8_t string0[] = "Tronix I/O";
const uint8_t string1[] = "www.tronix.io";
const uint8_t string2[] = "Custom patterns";
const uint8_t separator[] = " - ";
const uint8_t custom_patterns[5][8] = {
    {0x0e, 0x1b, 0x11, 0x11, 0x11, 0x11, 0x11, 0x1f},
    {0x0e, 0x1b, 0x11, 0x11, 0x11, 0x1f, 0x1f, 0x1f},
    {0x0e, 0x1b, 0x11, 0x11, 0x1f, 0x1f, 0x1f, 0x1f},
    {0x0e, 0x1b, 0x11, 0x1f, 0x1f, 0x1f, 0x1f, 0x1f},
    {0x0e, 0x1f, 0x1f, 0x1f, 0x1f, 0x1f, 0x1f, 0x1f}
};

// Main.
void main(void)
{
    // MCU Initialization.
    // Internal Oscillator Settings.
    OSCCON = 0b01110000;
    // Ports Settings.
    // PORT Data Register.
    PORTA = 0b00000000;
    PORTB = 0b00000000;
    PORTC = 0b00000000;
    // TRIS Data Direction.
    TRISA = 0b00000000;
    TRISB = 0b00000000;
    TRISC = 0b00000000;
    // WPU Disable.
    OPTION_REGbits.nWPUEN = 0b1;
    // LATCH Outputs.
    LATA = 0b00000000;
    LATB = 0b00000000;
    LATC = 0b00000000;
    // ANSEL Analog.
    ANSELA = 0b00000000;
    ANSELB = 0b00000000;
    ANSELC = 0b00000000;
    // WPU Weak Pull-up.
    WPUA = 0b00000000;
    WPUB = 0b00000000;
    WPUC = 0b00000000;
    // ODCON Open-drain.
    ODCONA = 0b00000000;
    ODCONB = 0b00000000;
    ODCONC = 0b00000000;
    // SRLCON Slew Rate.
    SLRCONA = 0b11111111;
    SLRCONB = 0b11111111;
    SLRCONC = 0b11111111;
    // INLVL Input Level.
    INLVLA  = 0b00000000;
    INLVLB  = 0b00000000;
    INLVLC  = 0b00000000;
    // HIDRVB High Drive.
    HIDRVB  = 0b00000000;

    // ST7066U Initialization.
    lcd_initialize();

    // Write 5x8 Dots Custom Patterns in ST7066U CGRAM.
    lcd_writeInstruction(ST7066U_SET_CGRAM_ADDRESS);
    uint8_t line = 0;
    uint8_t pattern = 0;
    for(pattern=0; pattern<5; pattern++){
        for(line=0; line<8; line++){
            lcd_writeData(custom_patterns[pattern][line]);
        }
    }

    // Display String.
    lcd_writeStringSetCursor(string0, NHD0420DZ_CONFIGURATION_FIRST_LINE + 0x05);
    lcd_writeStringSetCursor(string1, NHD0420DZ_CONFIGURATION_SECOND_LINE + 0x03);
    lcd_writeStringSetCursor(string2, NHD0420DZ_CONFIGURATION_THIRD_LINE + 0x02);

    // Display Custom Patterns from ST7066U CGRAM.
    lcd_writeInstruction(NHD0420DZ_CONFIGURATION_FOURTH_LINE + 0x05);
    lcd_writeData(0x00);
    lcd_writeData(0x01);
    lcd_writeData(0x02);
    lcd_writeData(0x03);
    lcd_writeData(0x04);
    lcd_writeString(separator);

    while(1){
        for(pattern=0; pattern<5; pattern++){
            lcd_writeInstruction(NHD0420DZ_CONFIGURATION_FOURTH_LINE + 0x0d);
            lcd_writeData(pattern);
            __delay_ms(500);
        }
    }
}

// Functions.
void lcd_clearDisplay(void)
{
    lcd_writeInstruction(ST7066U_CLEAR_DISPLAY);
    __delay_ms(2);
}

void lcd_clearLine(uint8_t u8Line)
{
    uint8_t u8Characters = NHD0420DZ_CONFIGURATION_CHARACTER;
    
    lcd_writeInstruction(u8Line);
    while(u8Characters--){
        lcd_writeData(ASCII_SPACE);
    }
}

void lcd_initialize(void)
{
    __delay_ms(50);
    lcd_writeInstructionNOBF(ST7066U_FUNCTION_SET_8_BIT_ONCE);
    lcd_writeInstructionNOBF(ST7066U_FUNCTION_SET_4_BIT_TWO_LINE_FONT5x8);
    lcd_writeInstructionNOBF(ST7066U_FUNCTION_SET_4_BIT_TWO_LINE_FONT5x8);
    lcd_writeInstruction(ST7066U_DISPLAY_ON_CURSOR_OFF);
    lcd_writeInstruction(ST7066U_ENTRY_MODE_DDRAM_INCREMENT_NOSHIFT);
    lcd_writeInstruction(ST7066U_CLEAR_DISPLAY);
    __delay_ms(2);
}

void lcd_readBusyFlag(void)
{
    ST7066U_nRS;
    ST7066U_RW;
    ST7066U_BF_INPUT;
    __delay_us(5);
    do{
        ST7066U_nE;
        ST7066U_E;
    }while(ST7066U_BF);
    ST7066U_BF_OUTPUT;
    ST7066U_nRW;
}

void lcd_writeData(uint8_t u8Data)
{
    ST7066U_RS;
    ST7066U_DATA &= 0x0F;
    ST7066U_E;
    ST7066U_DATA |= (u8Data & 0xF0);
    ST7066U_nE;
    ST7066U_DATA &= 0x0F;
    ST7066U_E;
    ST7066U_DATA |= ((u8Data<<4) & 0xF0);
    ST7066U_nE;
    lcd_readBusyFlag();
}

void lcd_writeInstruction(uint8_t u8Data)
{
    ST7066U_nRS;
    ST7066U_DATA &= 0x0F;
    ST7066U_E;
    ST7066U_DATA |= (u8Data & 0xF0);
    ST7066U_nE;
    ST7066U_DATA &= 0x0F;
    ST7066U_E;
    ST7066U_DATA |= ((u8Data<<4) & 0xF0);
    ST7066U_nE;
    lcd_readBusyFlag();
}

void lcd_writeInstructionNOBF(uint8_t u8Data)
{
    ST7066U_nRS;
    ST7066U_DATA &= 0x0F;
    ST7066U_E;
    ST7066U_DATA |= (u8Data & 0xF0);
    ST7066U_nE;
    ST7066U_DATA &= 0x0F;
    ST7066U_E;
    ST7066U_DATA |= ((u8Data<<4) & 0xF0);
    ST7066U_nE;
    __delay_us(40);
}

void lcd_writeString(const uint8_t * u8Data)
{
    while(*u8Data != '\0')
        lcd_writeData(*u8Data++);
}

void lcd_writeStringSetCursor(const uint8_t * u8Data, uint8_t u8Cursor)
{
    lcd_writeInstruction(u8Cursor);
    while(*u8Data != '\0')
        lcd_writeData(*u8Data++);
}
```

---

DISCLAIMER: THIS CODE IS PROVIDED WITHOUT ANY WARRANTY OR GUARANTEES.
USERS MAY USE THIS CODE FOR DEVELOPMENT AND EXAMPLE PURPOSES ONLY.
AUTHORS ARE NOT RESPONSIBLE FOR ANY ERRORS, OMISSIONS, OR DAMAGES THAT COULD
RESULT FROM USING THIS FIRMWARE IN WHOLE OR IN PART.